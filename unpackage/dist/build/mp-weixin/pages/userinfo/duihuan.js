(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userinfo/duihuan"],{"06b9":function(t,i,a){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("f55d"));function e(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{info:"",prolist:{},studentid:""}},onShow:function(){n.default.islogin(!0),this.shopinfo()},methods:{Cart_but:function(){t.navigateTo({url:"ShoppingCart"})},shopinfo:function(){var i=this;t.showLoading({mask:!0,title:"加载中..."}),t.request({url:n.default.websiteUrl+"shop/getproduct",method:"POST",data:n.default.postdata({page:"1",num:"100"}),success:function(a){if(200==a.data.code){if(i.info=a.data.data.baseinfo,-1==i.info.headurl.indexOf("http")&&(i.info.headurl=n.default.imgurl+i.info.headurl),i.studentid=a.data.data.baseinfo.userid,i.prolist=a.data.data.prolist,null!=i.prolist)for(var e=0;e<i.prolist.length;e++)-1==i.prolist[e].ShopPic.indexOf("http")&&(i.prolist[e].ShopPic=n.default.imgurl+i.prolist[e].ShopPic);t.hideLoading()}else t.hideLoading(),t.showToast({icon:"none",title:a.data.info}),"未找到登录信息"==a.data.info&&t.reLaunch({url:"/pages/login/login"})},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"网络异常,请重试！"})}})},jr_but:function(i){var a=this;t.showModal({title:"提示",content:"是否确定加入购物车",success:function(e){e.confirm?(t.showLoading({mask:!0,title:"加入中..."}),t.request({url:n.default.websiteUrl+"shop/addcar",method:"POST",data:n.default.postdata({productid:i.currentTarget.dataset.id,studentid:n.default.getstate().userid}),success:function(i){200==i.data.code?(t.hideLoading(),t.showToast({icon:"none",title:i.data.info}),a.shopinfo()):(t.hideLoading(),t.showToast({icon:"none",title:i.data.info})),t.hideLoading()},fail:function(){t.hideLoading(),t.showToast({icon:"none",title:"网络异常,请重试！"})}})):e.cancel&&t.showToast({icon:"none",title:"已取消加入购物车。"})}})}}};i.default=o}).call(this,a("543d")["default"])},"181a":function(t,i,a){"use strict";var n=a("a09f"),e=a.n(n);e.a},4976:function(t,i,a){"use strict";a.r(i);var n=a("b739"),e=a("7895");for(var o in e)"default"!==o&&function(t){a.d(i,t,function(){return e[t]})}(o);a("181a");var s=a("2877"),u=Object(s["a"])(e["default"],n["a"],n["b"],!1,null,null,null);i["default"]=u.exports},7895:function(t,i,a){"use strict";a.r(i);var n=a("06b9"),e=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(i,t,function(){return n[t]})}(o);i["default"]=e.a},a09f:function(t,i,a){},b739:function(t,i,a){"use strict";var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("view",{staticClass:"content"},[a("view",{staticClass:"uni-info-box"},[a("view",{staticClass:"uni-img"},[a("image",{attrs:{src:t.info.headurl,mode:""}})]),a("view",{staticClass:"uni-user-name"},[a("view",[t._v(t._s(t.info.truename))]),a("view",[t._v("积分"+t._s(t.info.integral))])]),a("view",{staticClass:"uni-but",attrs:{eventid:"1529b9c1-0"},on:{tap:t.Cart_but}},[a("view",{staticClass:"uni-number"},[t._v(t._s(t.info.cartcount))]),a("uni-icon",{staticClass:"icon9",attrs:{mpcomid:"1529b9c1-0"}}),a("text",[t._v("购物车")])],1)]),a("checkbox-group",{attrs:{mpcomid:"1529b9c1-1"}},[a("view",{staticClass:"uni-sp-list"},t._l(t.prolist,function(i,n){return a("view",{key:n,staticClass:"uni-sp-item",attrs:{"data-id":i.ID,eventid:"1529b9c1-1-"+n},on:{tap:t.jr_but}},[a("view",{staticClass:"uni-sp-img"},[a("image",{attrs:{src:i.ShopPic,mode:""}})]),a("view",{staticClass:"uni-sp-jf"},[a("text",[t._v(t._s(i.Integral)+"积分")]),a("label",{staticClass:"checkbox"},[a("checkbox",{attrs:{value:"",checked:i.IsAdd>0}})],1)],1)])}))])],1)},e=[];a.d(i,"a",function(){return n}),a.d(i,"b",function(){return e})},ff4a:function(t,i,a){"use strict";a("4651");var n=o(a("b0ce")),e=o(a("4976"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(e.default))}},[["ff4a","common/runtime","common/vendor"]]]);