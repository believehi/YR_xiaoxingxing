(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/userinfo/ShoppingCart"],{

/***/ 101:
/*!**************************************************************************************!*\
  !*** G:/我的资源/小新星/代码/11.1/Xinxing/main.js?{"page":"pages%2Fuserinfo%2FShoppingCart"} ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
__webpack_require__(/*! uni-pages */ 1);
var _mpvuePageFactory = _interopRequireDefault(__webpack_require__(/*! mpvue-page-factory */ 12));
var _ShoppingCart = _interopRequireDefault(__webpack_require__(/*! ./pages/userinfo/ShoppingCart.vue */ 102));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
Page((0, _mpvuePageFactory.default)(_ShoppingCart.default));

/***/ }),

/***/ 102:
/*!*******************************************************************!*\
  !*** G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShoppingCart.vue?vue&type=template&id=6b1330e6& */ 103);
/* harmony import */ var _ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShoppingCart.vue?vue&type=script&lang=js& */ 105);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShoppingCart.vue?vue&type=style&index=0&lang=css& */ 107);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 10);






/* normalize component */

var component = Object(_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__["render"],
  _ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 103:
/*!**************************************************************************************************!*\
  !*** G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=template&id=6b1330e6& ***!
  \**************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShoppingCart.vue?vue&type=template&id=6b1330e6& */ 104);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_template_id_6b1330e6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 104:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=template&id=6b1330e6& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("view", { staticClass: "content" }, [
    _c("view", { staticClass: "cart", attrs: { hidden: _vm.iscart } }, [
      _c("view", [_vm._v("购物车什么都没有，赶快去购物吧")])
    ]),
    _c(
      "view",
      { staticClass: "uni-sp-list", attrs: { hidden: !_vm.iscart } },
      _vm._l(_vm.car, function(item, index) {
        return _c(
          "view",
          {
            key: index,
            staticClass: "uni-sp-item",
            attrs: { "data-ShopId": item.ShopId }
          },
          [
            _c("view", { staticClass: "checkbox" }, [
              item.selected
                ? _c("image", {
                    attrs: {
                      src: "../../static/xz1.png",
                      mode: "",
                      eventid: "b538b74e-0-" + index
                    },
                    on: {
                      tap: function($event) {
                        _vm.selectList(index)
                      }
                    }
                  })
                : _vm._e(),
              _c("image", {
                attrs: {
                  src: "../../static/xz.png",
                  eventid: "b538b74e-1-" + index
                },
                on: {
                  tap: function($event) {
                    _vm.selectList(index)
                  }
                }
              })
            ]),
            _c("view", { staticClass: "uni-title" }, [
              _vm._v(_vm._s(item.ShopName))
            ]),
            _c("view", { staticClass: "uni-page" }, [
              _vm._v(_vm._s(item.Integral) + "分")
            ]),
            _c("uni-icon", {
              staticClass: "fa fa-minus-square-o",
              attrs: {
                eventid: "b538b74e-2-" + index,
                mpcomid: "b538b74e-0-" + index
              },
              on: {
                tap: function($event) {
                  _vm.btn_minus(index)
                }
              }
            }),
            _c("text", { staticClass: "uni-number" }, [
              _vm._v(_vm._s(item.Quantity))
            ]),
            _c("uni-icon", {
              staticClass: "fa fa-plus-square-o",
              attrs: {
                eventid: "b538b74e-3-" + index,
                mpcomid: "b538b74e-1-" + index
              },
              on: {
                tap: function($event) {
                  _vm.btn_add(index)
                }
              }
            })
          ],
          1
        )
      })
    ),
    _c("view", { staticClass: "uni-hj-box" }, [
      _c("view", { staticClass: "uni-hj" }, [
        _vm._v("积分合计：" + _vm._s(_vm.totalPrice))
      ]),
      _c(
        "view",
        {
          staticClass: "uni-sc-but",
          attrs: { eventid: "b538b74e-4" },
          on: { tap: _vm.sc_but }
        },
        [_vm._v("删除")]
      ),
      _c(
        "view",
        {
          staticClass: "uni-jx-but",
          attrs: { eventid: "b538b74e-5" },
          on: { tap: _vm.js_but }
        },
        [_vm._v("结算")]
      )
    ])
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 105:
/*!********************************************************************************************!*\
  !*** G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShoppingCart.vue?vue&type=script&lang=js& */ 106);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 106:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;















































var _helper = _interopRequireDefault(__webpack_require__(/*! ../../common/helper.js */ 18));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var _default =
{
  data: function data() {
    return {
      iscart: false,
      list: '',
      car_num: '', //商品价格
      num: '1', //数量
      totalPrice: 0, // 总价，初始为0
      quantity: '', //总数量
      selectAllStatus: true, // 全选状态，默认全选
      number: '', //总数量
      car: {}, //保存加入购物车的商品
      edit_show: "none",
      cid: '',
      arry: [] };

  },
  onShow: function onShow() {
    _helper.default.islogin(true);
    this.carlist();
  },
  methods: {
    //请求购物车列表
    carlist: function carlist() {var _this2 = this;
      uni.showLoading({
        mask: true,
        title: '加载中...' });

      uni.request({
        url: _helper.default.websiteUrl + 'shop/carlist',
        method: 'POST',
        data: _helper.default.postdata({
          page: '1',
          num: '10000' }),

        success: function success(res) {
          if (res.data.code == 200) {
            _this2.car = res.data.data.baseinfo;
            if (_this2.car.length > 0) {
              _this2.iscart = true;
              _this2.count_price();
            } else {
              _this2.totalPrice = '0';
              _this2.iscart = false;
            }
            uni.hideLoading();

          } else {
            uni.hideLoading();
            uni.showToast({
              icon: 'none',
              title: res.data.info });

            if (res.data.info == "未找到登录信息") {
              uni.reLaunch({
                url: '/pages/login/login' });

            }
          }
        },
        fail: function fail() {
          uni.hideLoading();
          uni.showToast({
            icon: 'none',
            title: '网络异常,请重试！' });

        } });

    },
    //绑定减的方法
    btn_minus: function btn_minus(e) {
      //   // 获取点击的索引
      var index = e;
      // const obj = e.currentTarget.dataset.obj;
      // 获取商品数据
      var list = this.car;
      // 获取商品数量
      var num = list[index].Quantity;
      this.cid = list[index].ID;
      // 判断num小于等于1  return; 点击无效
      if (num <= 1) {
        uni.showToast({
          icon: 'none',
          title: '数量不能小于1！' });

        return false;
      }
      // else  num大于1  点击减按钮  数量--
      var Number1 = num - 1;
      list[index].Quantity = Number1;
      this.num_but(Number1);
      // 渲染页面
      this.car = list;
      this.count_price();
    },
    //绑定加数量事件
    btn_add: function btn_add(e) {
      var index = e; //获取点击的索引
      var list = this.car;
      // 获取商品数量
      var num = list[index].Quantity;
      // 点击递增
      var Number2 = num + 1;
      this.cid = list[index].ID;
      list[index].Quantity = Number2;
      // 重新渲染 ---显示新的数量
      this.num_but(Number2);
      this.car = list;
      this.count_price();
    },
    // 增加或减少商品数量
    num_but: function num_but(num) {
      uni.request({
        url: _helper.default.websiteUrl + 'shop/editcar',
        method: 'POST',
        data: _helper.default.postdata({
          quantity: num,
          type: '1',
          cid: this.cid }),

        success: function success(res) {
          if (res.data.code != 200) {
            uni.showToast({
              icon: 'none',
              title: res.data.info });

          }
        },
        fail: function fail() {
          uni.hideLoading();
          uni.showToast({
            icon: 'none',
            title: '网络异常,请重试！' });

        } });

    },
    // 勾选商品
    selectList: function selectList(e) {
      var that = this;
      // 获取选中的索引
      var index = e;
      // 获取到商品列表数据
      var list = this.car;
      // 默认全选
      this.selectAllStatus = true;
      // 循环数组数据，判断----选中/未选中[selected]
      list[index].selected = !list[index].selected;
      // 如果数组数据全部为selected[true],全选
      for (var i = list.length - 1; i >= 0; i--) {
        if (!list[i].selected) {
          that.selectAllStatus = false;
          break;
        }
      }
      // 重新渲染数据
      this.car = list;
      this.selectAllStatus = this.selectAllStatus;
      // 计算积分
      this.count_price();
    },
    // 购物车全选
    // selectAll(e) {
    // 	// 全选ICON默认选中
    // 	var selectAllStatus = this.car.selected;
    // 	// true  -----   false
    // 	selectAllStatus = !selectAllStatus;
    // 	// 获取商品数据
    // 	var list = this.car;
    // 	// 循环遍历判断列表中的数据是否选中
    // 	for (let i = 0; i < list.length; i++) {
    // 		list[i].selected = selectAllStatus;
    // 	}
    // 	// 页面重新渲染
    // 	this.selectAllStatus = selectAllStatus;
    // 	this.car = list;
    // 	// 计算积分
    // 	this.count_price();
    // },
    // 计算积分
    count_price: function count_price() {
      // 获取商品列表数据
      // 声明一个变量接收数组列表price
      var list = this.car;
      var total = 0;
      var quantity1 = 0;
      // 循环列表得到每个数据
      for (var i = 0; i < this.car.length; i++) {
        // 判断选中计算价格
        if (list[i].selected) {
          // 所有价格加起来 count_money
          total += list[i].Quantity * list[i].Integral;
          quantity1 += list[i].Quantity;
        }
      }
      // 最后赋值到data中渲染到页面
      this.totalPrice = total.toFixed(0);
      this.quantity = quantity1;
    },
    //删除商品
    sc_but: function sc_but() {
      var _this = this;
      var cidarry = '';
      var IdArr2 = '';
      for (var i = 0; i < this.car.length; i++) {
        // 判断选中
        if (this.car[i].selected) {
          var cid = this.car[i].ID;
          var reg = /,$/gi; //此处是正则
          cidarry += cid + ",";
          IdArr2 = cidarry.replace(reg, "");
        }
      }
      uni.showModal({
        title: '提示',
        content: '是否确实删除选中的商品？',
        success: function success(res) {
          if (res.confirm) {
            uni.request({
              url: _helper.default.websiteUrl + 'shop/editcar',
              method: 'POST',
              data: _helper.default.postdata({
                type: '2',
                cid: IdArr2 }),

              success: function success(res) {
                if (res.data.code == 200) {
                  uni.showToast({
                    icon: 'none',
                    title: "成功删除" });

                  _this.carlist();
                } else {
                  uni.showToast({
                    icon: 'none',
                    title: res.data.info });

                }
              },
              fail: function fail() {
                uni.hideLoading();
                uni.showToast({
                  icon: 'none',
                  title: '网络异常,请重试！' });

              } });


          }
        } });

    },
    //结算
    js_but: function js_but() {
      var _this = this;

      for (var i = 0; i < this.car.length; i++) {
        // 判断选中
        if (this.car[i].selected) {
          // 所有价格加起来 count_money
          var listarry = {};
          listarry.ShopId = this.car[i].ShopId;
          listarry.Amount = this.car[i].Quantity;
          listarry.Expenditure = this.car[i].Integral;
          listarry.Details = this.car[i].ShopName;
          _this.arry.push(listarry);

        }
      }
      uni.showModal({
        title: '提示',
        content: '确定结算？',
        success: function success(res) {
          if (res.confirm) {
            uni.request({
              url: _helper.default.websiteUrl + 'shop/order',
              method: 'POST',
              data: _helper.default.postdata({
                studentid: _helper.default.getstate().userid,
                quantity: _this.quantity,
                sumamount: _this.totalPrice,
                orderitems: _this.arry }),

              success: function success(res) {
                if (res.data.code == 200) {
                  uni.showToast({
                    icon: 'none',
                    title: '已完成兑换',
                    duration: 1500 });

                  setTimeout(function () {
                    _this.carlist();
                  }, 1500);
                } else {
                  uni.showToast({
                    icon: 'none',
                    title: res.data.info });

                }
              },
              fail: function fail() {
                uni.hideLoading();
                uni.showToast({
                  icon: 'none',
                  title: '网络异常,请重试！' });

              } });


          }
        } });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 7)["default"]))

/***/ }),

/***/ 107:
/*!****************************************************************************************************!*\
  !*** G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShoppingCart.vue?vue&type=style&index=0&lang=css& */ 108);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ShoppingCart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 108:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!G:/我的资源/小新星/代码/11.1/Xinxing/pages/userinfo/ShoppingCart.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[101,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/userinfo/ShoppingCart.js.map